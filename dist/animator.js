!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=335)}({10:function(t,e,n){"use strict";function r(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(n,!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e,n){e="".concat(e,".").concat(n),"string"!=typeof t&&(t=JSON.stringify(t,null,"\t"));var r=new Blob([t],{type:n});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(r,e);else{var o=document.createElement("a"),i=URL.createObjectURL(r);o.href=i,o.download=e,document.body.appendChild(o),o.click(),setTimeout((function(){document.body.removeChild(o),window.URL.revokeObjectURL(i)}),0)}}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#control-form";"string"==typeof e&&(e=document.querySelector(e)),t.forEach((function(t,n){e.appendChild(function(t,e){var n=t.title,r=t.enabled,o=t.delay,a=t.duration,c=t.mode,s=p("div",{className:"frame-block"});s.appendChild(p("div",{className:"frame-title",innerText:n}));var u=p("div",{className:"form-line"});u.appendChild(p("div",{innerText:e})),u.appendChild(p("label",null,[p("input",{id:"step-".concat(e,"-enabled"),name:"".concat(e,"--enabled"),type:"checkbox",checked:r})])),u.appendChild(p("label",null,[p("input",{id:"step-".concat(e,"-delay"),name:"".concat(e,"--delay"),type:"number",value:o})])),u.appendChild(p("label",null,[p("input",{id:"step-".concat(e,"-duration"),name:"".concat(e,"--duration"),type:"number",value:a})]));var l=p("select",{id:"step-".concat(e,"-mode"),name:"".concat(e,"--mode")}),f=!0,d=!1,y=void 0;try{for(var h,m=Animator.MODES[Symbol.iterator]();!(f=(h=m.next()).done);f=!0){var v=h.value;l.appendChild(p("option",i({value:v,innerText:v},v===c&&{selected:!0})))}}catch(t){d=!0,y=t}finally{try{f||null==m.return||m.return()}finally{if(d)throw y}}return u.appendChild(p("label",null,[l])),s.appendChild(u),s}(t,n+1))}))}function u(t,e,n){var r=t.id,o=t.baseClassName,i="".concat(r,"-").concat(o,"-style-").concat(n),a=document.getElementById(i);a||(a=p("style",{id:i}),document.head.appendChild(a)),a.innerHTML=e}function l(t,e){switch(e){case"enabled":return"on"===t;case"mode":return t;default:return parseInt(t)}}function f(t){switch(t.target.error.code){case t.target.error.NOT_FOUND_ERR:alert("File Not Found!");break;case t.target.error.NOT_READABLE_ERR:alert("File is not readable");break;case t.target.error.ABORT_ERR:break;default:alert("An error occurred reading this file.")}}function p(t,e,n){var r=document.createElement(t);for(var o in e||{})e.hasOwnProperty(o)&&(r[o]=e[o]);var i=!0,a=!1,c=void 0;try{for(var s,u=(n||[])[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value;r.appendChild(l)}}catch(t){a=!0,c=t}finally{try{i||null==u.return||u.return()}finally{if(a)throw c}}return r}function d(t,e,n){var r=t.childNodesIds,o=t.duration,i=t.mode,a=e||{},c=a.id,s=a.baseClassName,u=a.ignoreKey,l=e.transitions||["transform","border-color","background-color","opacity"],f=e.subSelectors||["",":after",":before"],p=[],d=!0,y=!1,h=void 0;try{for(var m,v=function(){var t=m.value,e=t?" #".concat(t):"",r=u?"":"-".concat(n),o="".concat("#"+c," .").concat(s).concat(r).concat(e);p.push(f.map((function(t){return o+t})).join(","))},b=r[Symbol.iterator]();!(d=(m=b.next()).done);d=!0)v()}catch(t){y=!0,h=t}finally{try{d||null==b.return||b.return()}finally{if(y)throw h}}var _=l.map((function(t){return"".concat(t," ").concat(o,"ms")})).join(", ")+" !important";return p.join(",")+"{ transition: ".concat(_,"; transition-timing-function: ").concat(i," !important;}")}function y(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.slice(0,e.length).forEach((function(t,n){var o;(o=t.classList).remove.apply(o,r(e)),t.classList.add(e[n])}))}function h(t,e,n){var o=e.className,i=e.toDelete,a=n.type,c=n.visibleClasses,s=n.slidesSelector;if("carousel"===a){var u=r(document.querySelectorAll(s)||[]);return function(){var t,e=u.shift();(t=e.classList).remove.apply(t,r(c)),u.push(e),y(u,c)}}return function(){if(o&&t.classList.add(o),i){i=Array.isArray(i)?i:[i];var e=!0,n=!1,r=void 0;try{for(var a,c=i[Symbol.iterator]();!(e=(a=c.next()).done);e=!0){var s=a.value;t.classList.remove(s)}}catch(t){n=!0,r=t}finally{try{e||null==c.return||c.return()}finally{if(n)throw r}}}}}function m(t){if("string"==typeof t&&(t=document.querySelector(t)),t instanceof Node)return t;throw new Error("Target must be a DOM Node or a selector string")}n.d(e,"c",(function(){return c})),n.d(e,"h",(function(){return s})),n.d(e,"i",(function(){return u})),n.d(e,"g",(function(){return l})),n.d(e,"b",(function(){return f})),n.d(e,"e",(function(){return d})),n.d(e,"a",(function(){return y})),n.d(e,"d",(function(){return h})),n.d(e,"f",(function(){return m}))},335:function(t,e,n){t.exports=n(337)},337:function(t,e,n){"use strict";n.r(e);var r=n(53),o=n(10);function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(n,!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f=function(){function t(e){var n=this,i=e.config,a=e.frames,u=void 0===a?[]:a,f=e.fileInput,p=void 0===f?"#animator-file-import":f,d=e.abortButton,y=void 0===d?"#animator-import-abort":d,h=e.resetButton,m=void 0===h?"#animator-reset":h,v=e.saveButton,b=void 0===v?"#animator-save":v,_=e.playButton,g=void 0===_?"#animator-play":_,O=e.stopButton,w=void 0===O?"#animator-stop":O,S=e.restartButton,j=void 0===S?"#animator-restart":S,T=e.exportButton,k=void 0===T?"#animator-export":T;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,"handleFileSelect",(function(){var t=n._options.id,e=n._fileInput.files[0];e&&window.confirm("Current settings will be deleted")&&(n._reader.onerror=o.b,n._reader.onabort=function(){alert("File read cancelled")},n._reader.onload=function(e){try{var r=JSON.parse(e.target.result),o=r.frames;r.id===t?n.setFrames(o):alert("There is not valid config!")}catch(e){console.error(e)}},n._reader.readAsText(e))})),l(this,"init",(function(){n._form.innerHTML=null,Object(o.h)(n._frames);try{n.initAnimation()}catch(t){console.error(t)}})),l(this,"_clear",(function(){n._target.classList.value=n._classesBackup})),l(this,"initAnimation",(function(){var e=n._options,i=e.container,a=e.id;if(n._target=document.querySelector(i||"#".concat(a," .view")),!n._target)throw new Error("Can`t find animation container");n._classesBackup||(n._classesBackup=n._target.classList.value);var c=[];if(n._frames.forEach((function(t,e){var r=e+1,i=Object(o.e)(t,n._options,r);Object(o.i)(n._options,i,r);var a=t.delay,s=t.duration;t.enabled&&c.push({duration:s,delay:a,callback:Object(o.d)(n._target,t,n._options)})})),n._options.type===t.TYPE_CAROUSEL){var u=n._options,l=u.slidesSelector,f=u.visibleClasses,p=s(document.querySelectorAll(l)||[]);Object(o.a)(p,f)}n._scenario=new r.a(c,{infinity:!0}),n._scenario.onend=n._clear})),this._scenario=null,this._classesBackup="",this._options=c({},t.DEFAULT_OPTIONS,{},i||{}),this._backup=JSON.stringify(u),this._frames=JSON.parse(this._backup),this._reader=new FileReader,this._form=document.querySelector("#control-form"),this._fileInput="string"==typeof p?document.querySelector(p):p,this._fileInput.onchange=this.handleFileSelect,this._abortButton="string"==typeof p?document.querySelector(y):y,this._abortButton.onclick=function(){n._reader&&n._reader.abort()},this._resetButton="string"==typeof p?document.querySelector(m):m,this._resetButton.onclick=function(){window.confirm("Current settings will be deleted")&&n.reset()},this._saveButton="string"==typeof p?document.querySelector(b):b,this._saveButton.onclick=function(){n.update()},this._playButton="string"==typeof p?document.querySelector(g):g,this._playButton.onclick=function(){n.play()},this._stopButton="string"==typeof p?document.querySelector(w):w,this._stopButton.onclick=function(){n.stop()},this._restartButton="string"==typeof p?document.querySelector(j):j,this._restartButton.onclick=function(){setTimeout((function(){n.stop(),setTimeout((function(){n._clear(),setTimeout((function(){n.play(0)}))}))}))},this._exportButton="string"==typeof p?document.querySelector(k):k,this._exportButton.onclick=function(){Object(o.c)(n.json,"Animator[".concat(n._options.id,"]"),"json")}}var e,n,i;return e=t,(n=[{key:"data",get:function(){return c({},this._options,{frames:this._frames})}},{key:"json",get:function(){return JSON.stringify(this.data,null,"\t")}}])&&u(e.prototype,n),i&&u(e,i),t}();l(f,"TYPE_CAROUSEL","carousel"),l(f,"TYPE_DEFAULT","default"),l(f,"MODES",["ease-in","ease-out","ease-in-out","linear"]),l(f,"DEFAULT_OPTIONS",{id:"",container:"",baseClassName:"",subSelectors:[],transitions:[],visibleClasses:[],slidesSelector:"",type:f.TYPE_DEFAULT}),f.prototype.setFrames=function(t){this._frames=t,this.init()},f.prototype.setConfig=function(t){this._options=c({},f.DEFAULT_OPTIONS,{},t||{}),this.init()},f.prototype.reset=function(){this._frames=JSON.parse(this._backup),this.init()},f.prototype.update=function(){var t=new FormData(this._form),e=!0,n=!1,r=void 0;try{for(var a,c=t.entries()[Symbol.iterator]();!(e=(a=c.next()).done);e=!0){var s=i(a.value,2),u=s[0],l=s[1],f=i(u.split("--"),2),p=f[0],d=f[1],y=p-1;d&&(this._frames[y][d]=Object(o.g)(l,d))}}catch(t){n=!0,r=t}finally{try{e||null==c.return||c.return()}finally{if(n)throw r}}try{var h=this._scenario.playstate;this.stop(),this.initAnimation(),h&&this.play(0)}catch(t){console.error(t)}},f.prototype.play=function(t){if(!this._scenario)try{this.initAnimation()}catch(t){return void console.error(t)}!this._scenario.playstate&&this._scenario.start(t)},f.prototype.stop=function(){this._scenario&&this._scenario.stop()};var p=f;!window||"Animator"in window||(window.Animator=p)},53:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(e){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).infinity,r=void 0!==n&&n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._frames=e,this.playstate=!1,this._delayTimeout=null,this._stepTimeout=null,this._step=0,this._infinity=r,this.onstart=null,this.onstop=null,this.onend=null}var e,n,o;return e=t,(n=[{key:"_walkThrough",value:function(){var t,e,n,r,o,i,a;return regeneratorRuntime.async((function(c){for(;;)switch(c.prev=c.next){case 0:t=this._frames.slice(this._step),e=!0,n=!1,r=void 0,c.prev=4,o=t[Symbol.iterator]();case 6:if(e=(i=o.next()).done){c.next=15;break}if(a=i.value,!this.playstate){c.next=12;break}return c.next=11,regeneratorRuntime.awrap(this._runFrame(a));case 11:this._step++;case 12:e=!0,c.next=6;break;case 15:c.next=21;break;case 17:c.prev=17,c.t0=c.catch(4),n=!0,r=c.t0;case 21:c.prev=21,c.prev=22,e||null==o.return||o.return();case 24:if(c.prev=24,!n){c.next=27;break}throw r;case 27:return c.finish(24);case 28:return c.finish(21);case 29:return this._step=0,"function"==typeof this.onend&&this.onend(this),c.abrupt("return",!0);case 32:case"end":return c.stop()}}),null,this,[[4,17,21,29],[22,,24,28]])}},{key:"_runFrame",value:function(t){var e=this,n=t.callback,r=t.duration,o=t.delay;return new Promise((function(t){e._delayTimeout=setTimeout((function(){n(),e._stepTimeout=setTimeout(t,r)}),o)}))}},{key:"restart",value:function(){this._step=0,this.start()}},{key:"_forever",value:function(){return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.playstate){t.next=5;break}return t.next=3,regeneratorRuntime.awrap(this._walkThrough());case 3:t.next=0;break;case 5:case"end":return t.stop()}}),null,this)}},{key:"start",value:function(t){var e=this;void 0!==t&&(this._step=t),this.playstate=!0,"function"==typeof this.onstart&&this.onstart(this),this._infinity?this._forever().then((function(){return e.playstate=!1})):this._walkThrough().then((function(){return e.playstate=!1}))}},{key:"stop",value:function(){this.playstate=!1,this._delayTimeout&&(clearTimeout(this._delayTimeout),this._delayTimeout=null),this._stepTimeout&&(clearTimeout(this._stepTimeout),this._stepTimeout=null),"function"==typeof this.onstop&&this.onstop(this)}}])&&r(e.prototype,n),o&&r(e,o),t}();e.a=o}});